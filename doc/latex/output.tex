\PassOptionsToPackage{unicode=true}{hyperref} % options for packages loaded elsewhere
\PassOptionsToPackage{hyphens}{url}

\documentclass[a4paper,11pt]{article}
% \usepackage[]{natbib}
\usepackage[numbers]{natbib}
\bibliographystyle{plain-fr}
\usepackage{exptech}

\usepackage{lmodern}
\usepackage{amssymb,amsmath}
  \usepackage{textcomp} % provides euro and other symbols

\usepackage{fancyhdr}


\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Jeu des pingouins à base de MCTS (Monte Carlo Tree Search) sur le navigateur en utilisant le format WebAssembly},
  pdfauthor={Clément ; Romain ; Romain ; Maxime ; Volodia },
  pdfborder={0 0 0},
  breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls




\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}

% Make links footnotes instead of hotlinks:
\DeclareRobustCommand{\href}[2]{#2\footnote{\url{#1}}}


\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

% 
% set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother


\title{\textbf{Jeu des pingouins à base de MCTS (\emph{Monte Carlo Tree
Search}) sur le navigateur en utilisant le format \emph{WebAssembly}}}
\author{Clément \textsc{Chavanon} \and Romain \textsc{Hu} \and Romain
\textsc{Hubert} \and Maxime \textsc{Grimaud} \and Volodia
\textsc{Parol-Guarino} \and 
 \\ Encadrant : Pascal \textsc{Garcia}}

% \author{Francesco \textsc{Bariatti} \and Adrien \textsc{Gasté} \and Mikael \textsc{Le} \and Romain \textsc{Lebouc}
%         \\
%         Encadrant : Pascal \textsc{Garcia}}

\date{2019-2020}

\begin{document}
\maketitle
\begin{abstract}
\input{o_abstract.tex}
\end{abstract}

\hypertarget{introduction}{%
\section*{Introduction}\label{introduction}}
\addcontentsline{toc}{section}{Introduction}

\hypertarget{le-jeu-des-pingouins}{%
\subsection{Le jeu des pingouins}\label{le-jeu-des-pingouins}}

Le jeu des pingouins est un jeu de stratégie sur plateau de 4 joueurs.
Le plateau contient 60 cases hexagonales sur lesquelles se trouvent 1 à
3 poissons.

En début de partie, chaque joueur place un certain nombre de pingouins
(de 2 à 4 suivant le nombre de joueurs) sur le plateau. A chaque tour,
le joueur doit, si possible, bouger l'un de ses pingouins. Les
mouvements de ceux se font sur en ligne droite depuis les 6 faces de la
case hexagonale sur laquelle il se trouve. Il ne peut passer par des
trous ou au-dessus d'autres pingouins, peu importe leur couleur. Une
fois le mouvement achevé, la case de départ est retiré du plateau. Le
joueur peut alors incrémenter du nombre de poisson qu'il y avait sur
cette case son score.

Le jeu se termine lorsque plus aucun pingouin ne peut se déplacer. Le
joueur avec le plus de points (poissons) remporte la partie.

\hypertarget{notre-tuxe2che}{%
\subsection{Notre tâche}\label{notre-tuxe2che}}

\hypertarget{au-duxe9part}{%
\subsubsection{Au départ}\label{au-duxe9part}}

Le sujet portait sur l'implémentation de ce jeu dans un environnement
Web, en utilisant le nouveau standard \emph{WebAssembly}. Les sources du
projet sont compilées avec \emph{Emscripten} qui permet de coder en
\texttt{C++} pour la partie technique. L'interface devait se faire avec
les bibliothèques \emph{Simple DirectMedia Layer}.

\hypertarget{bref-suivi}{%
\subsubsection{Bref suivi}\label{bref-suivi}}

Afin de tester la faisabilité et les différentes technologies, nous
avons décidé de procéder à la création de l'algorithme de façon
abstraite et de tester avec un jeu simple et facilement implémentable :
le morpion. Pour la partie graphique nous avions simplement codé en
JavaScript vanilla. En parallèle nous avons testé une autre technologie
pour cela : \texttt{PixiJS}. Cependant cela ne s'est pas avéré
satisfaisant pour notre utilisation et avons décidé de choisir quelque
chose de plus simple : \texttt{Angular}.

\hypertarget{nos-pruxe9duxe9cesseurs}{%
\subsubsection{Nos prédécesseurs}\label{nos-pruxe9duxe9cesseurs}}

Ce projet n'est pas nouveau. Une précédente équipe y a déjà passé de
nombreuses heures. Cependant, afin de simplifier notre travail il a été
décidé de tout refaire, y compris le MCTS dont le code leur avait été
donné déjà optimisé. En effet, notre technologie étant récente, le
\emph{multithreading} par exemple pouvait s'avérer plus compliqué à
porter en \emph{WebAssembly} qu'à réécrire.

\hypertarget{notre-objectif}{%
\subsubsection{Notre objectif}\label{notre-objectif}}

Principalement nous nous sommes concentrés sur le fonctionnement correct
de tout le projet et pas seulement de l'algorithme et du jeu. C'est pour
cela que nous avons choisi de présenter un résultat plus correct
qu'optimal (par exemple nous n'avons pas utilisé de représentation en
\emph{bitboards}, comme l'ont fait nos prédécesseurs, de même qu'ils
n'ont pas eu l'algorithme à gérer).

\hypertarget{ruxe9alisation}{%
\section{Réalisation}\label{ruxe9alisation}}

\hypertarget{repruxe9sentation-du-jeu}{%
\subsection{Représentation du jeu}\label{repruxe9sentation-du-jeu}}

\hypertarget{repruxe9sentation}{%
\subsubsection{Représentation}\label{repruxe9sentation}}

\hypertarget{mcts}{%
\subsection{MCTS}\label{mcts}}

\hypertarget{multithreading}{%
\subsection{Multithreading}\label{multithreading}}

Afin d'augmenter les performances du MCTS, nous nous sommes penchés sur
le multithreading. En effet, cela nous débloque la possibilité de
simuler plusieurs parties en même temps, impliquant une augmentation du
nombre de parties simulés. Il y a différentes manières de multithreader
le MCTS; la \emph{tree parallelization}, la \emph{root parallelization}
et la \emph{leaf parallelization}. \citep{patel_blobs_2019} Nous avons
choisi la \emph{root parallelization} puisqu'elle offre un meilleur
score que les autres, et d'être facile à implémenter. Pour cela, nous
développons un arbre par thread. A la fin du temps alloué, nous mettons
en commun les arbres et choisissons le meilleur coup à jouer. Nous
mettons en commun uniquement la première couche afin d'éviter d'allonger
le temps de calcul. Pour éviter de recréer l'arbre à chaque fois, nous
avons mis en place un système de déplacement de la racine à un de ses
enfants, gardant ainsi le sous-arbre de l'enfant.

\hypertarget{interface-graphique}{%
\subsection{Interface graphique}\label{interface-graphique}}

Pour offrir une expérience de jeu optimale, et afin d'exporter le jeu
sur un navigateur, nous avons dû mettre en place une interface graphique
pour notre jeu. Avec les contraintes de temps et les contraintes
techniques, nous avons été amenés à faire des choix aux niveaux des
technologies utilisées et des méthodes d'implémentation afin de pouvoir
produire rapidement une interface utilisable.

\hypertarget{angular-ionic}{%
\subsubsection{Angular / Ionic}\label{angular-ionic}}

Afin de mettre en place, un code solide et rapidement exploitable, nous
voulions impérativement utiliser \texttt{Typescript}, pour mettre en
place le moteur de jeu côté graphisme. En effet, son contrôle de typage
est un véritable plus, par rapport à notre \emph{Proof Of Concept}, où
le moteur du Tic-Tac-Toe était en \emph{Javascript}. D'autre part, nous
voulions mettre en place une architecture de site Web plus globale qui
viendrait englober la partie véritablement jouable. Afin de mettre en
place cette architecture web sur pied au plus vite, nous nous sommes
tournés vers \texttt{Angular}.

Pour mettre en place la charte graphique de notre application, nous nous
sommes tournés vers le framework \texttt{Ionic\ 4}, sorti récemment, qui
offre aux développeurs des thèmes pré-conçus et des composants
\emph{responsives}. Basé sur \emph{Angular}, il s'intègre donc
parfaitement dans notre projet.

\hypertarget{organisation-de-lapplication}{%
\subsubsection{Organisation de
l'application}\label{organisation-de-lapplication}}

Dans sa version finale notre application se compose des pages
principales suivantes :

\begin{itemize}
\tightlist
\item
  une page d'accueil présentant le projet,
\item
  une page avec le jeu en lui même,
\item
  une page de présentation pour les membres de l'équipe,
\item
  et une page pour les crédits.
\end{itemize}

Cette dernière permet de présenter le projet dans sa globalité, ainsi
que les membres de l'équipe ayant participé à sa réalisation.

En utilisant \texttt{ngx\ rocket}, la base de l'application a pu être
générée rapidement et avec une qualité de production. De cette manière
notre application a pu disposer d'un service de routage et d'un autre de
traduction que nous avons agrémenté au fur et à mesure des différents
ajouts de pages et de fonctionnalités.

Durant nos recherches dans les différentes possibilités que pouvait nous
offrir \emph{Ionic}, nous avons mis en place la possibilité d'accéder à
une deuxième charte graphique, définissant le \texttt{Dark\ Theme}.

\hypertarget{duxe9veloppement-du-jeu}{%
\subsubsection{Développement du jeu}\label{duxe9veloppement-du-jeu}}

\hypertarget{bindings-mcts}{%
\subsection{\texorpdfstring{\emph{Bindings}
MCTS}{Bindings MCTS}}\label{bindings-mcts}}

% % \bibliography{references}
% 
\bibliography{references}

\end{document}
